# Experiment 001: DC Feature Ablation v1
# Pipeline: dc-ablation-pipeline
# Run ID: dc-ablation-pipeline-20260216200536
# Date: 2026-02-16

pipeline: pipeline_ablation.py

data:
  instrument: BTC-USD
  start_time: "2025-08-01 00:00:00"
  end_time: "2025-08-08 00:00:00"
  dc_thresholds: [0.001, 0.005, 0.010, 0.015]
  single_dc_threshold: 0.001

features:
  common: [PRICE_std, vol_quote_std, cvd_quote_std]
  dc_per_threshold: [PDCC_Down, OSV_Down_std, OSV_Up_std, PDCC2_UP, regime_up, regime_down]
  label: [PRICE_std]

windowing:
  input_width: 50
  label_width: 1
  shift: 50
  batch_size: 32

model:
  architecture: Flatten -> Dense(64, relu) -> Dense(32, relu) -> Dense(1)
  bottleneck_dim: 0  # no bottleneck
  dropout_rate: 0.0
  l2_reg: 0.0

hparams:
  batch_size: 100
  epochs: 5
  loss_fn: MeanSquaredError
  optimizer: Adam
  learning_rate: 0.01
  patience: 5
  distribute_strategy: single

containers:
  train: us-docker.pkg.dev/vertex-ai/training/tf-cpu.2-17.py310:latest
  serving: us-docker.pkg.dev/vertex-ai/prediction/tf2-cpu.2-15:latest

arms:
  baseline:
    features: 3 (common only)
    input_shape: [50, 3]
    estimated_params: ~9600
  single_dc:
    features: 9 (common + DC from threshold=0.001)
    input_shape: [50, 9]
    estimated_params: ~28800
  multi_dc:
    features: 27 (common + DC from all 4 thresholds)
    input_shape: [50, 27]
    estimated_params: ~86400
